%% Direttive TeXworks:
% !TeX root = ./maltoni_niccolo_tesi.tex
% !TEX encoding = UTF-8 Unicode
% !TEX program = arara
% !TEX TS-program = arara
% !TeX spellcheck = it-IT

%% Direttive Arara:
% arara: pdflatex: { shell: yes, synctex: yes, action: batchmode, options: "-halt-on-error -file-line-error-style" }
% arara: frontespizio
% arara: biber
% arara: pdflatex: { shell: yes, synctex: yes, action: batchmode, options: "-halt-on-error -file-line-error-style" }
% arara: pdflatex: { shell: yes, synctex: yes, action: nonstopmode, options: "-halt-on-error -file-line-error-style" }

\documentclass[%
    a4paper,            % specifica il formato A4 (default: letter)
    12pt,               % specifica la dimensione del carattere a 12
    % openright,        % serve per aprire i capitoli sulla destra
    openany,            % serve per aprire i capitoli su qualunque pagina
    % oneside,          % serve per impaginare per stampa solo fronte
    twoside,            % serve per impaginare per stampa fronteretro
    % draft,            % evidenzia i punti in cui il testo sborda dai margini con delle barre nere, va tolta nella versione definitiva % TODO utile per il controllo
    titlepage           % opzione necessaria per il pacchetto frontespizio
]{book}

\usepackage{a4wide}             % consente di avere più spazio nell'A4
\usepackage[english,italian]{%
    babel,              % serve per scrivere Indice, Capitolo, etc in Italiano
    varioref            % introduce il comando \vref da usarsi nello stesso modo del comune \ref per i riferimenti
}
\usepackage[T1]{fontenc}        % serve per impostare la codifica di output del font come Latin1 (T1)
\usepackage{lmodern}            % necessario per risolvere un errore col font, si può usare times o lmodern (o probabilmente anche altro)
%\usepackage{lmodern}           % catica un variante Latin Modern prodotto dal GUST (gruppo utenti di TEX polacco)
%\usepackage{newtxtext}         % insieme a {newtxmath} carica font Times, Times Italic e Helvetica
%\usepackage{newtxmath}         % insieme a {newtxtext} carica font Times, Times Italic e Helvetica
\usepackage{textcomp}           % serve per fornire supporto ai Text Companion fonts
\usepackage[utf8]{inputenc}     % serve per impostare la codifica di input del font come UTF8 (codifica di questo file .tex)
\usepackage{indentfirst}        % serve per avere l'indentazione all'inizio di capitoli, sezioni, etc
\usepackage{microtype}          % migliora la gestione dei microspazi nel testo
\usepackage{setspace}           % serve a fornire comandi di interlinea standard, alternativi a \linespread{}
\usepackage{fancyhdr}           % serve per impaginare bene la tesi
%\usepackage{refcheck}          % serve per controllare l’utilizzo dei \label e dei \ref, va tolta nella versione definitiva    %TODO utile per il controllo
%\usepackage{showkeys}          % serve per mostrare le etichette, va tolta nella versione definitiva                           %TODO utile per il controllo
\usepackage{xcolor}             % serve per la gestione dei colori nel testo
% \usepackage{minted}           % serve per inserire snippet di codice formattato
\usepackage{listings}           % serve per inserire snippet di codice formattato

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\lstset{%
    backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
    basicstyle=\footnotesize,        % the size of the fonts that are used for the code
    breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
    breaklines=true,                 % sets automatic line breaking
    captionpos=b,                    % sets the caption-position to bottom
    commentstyle=\color{mygreen},    % comment style
    deletekeywords={...},            % if you want to delete keywords from the given language
    extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
    frame=none,	                     % adds a frame around the code
    keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
    keywordstyle=\color{blue},       % keyword style
    language=Octave,                 % the language of the code
    morekeywords={*,...},            % if you want to add more keywords to the set
    numbers=none,                    % where to put the line-numbers; possible values are (none, left, right)
    numbersep=5pt,                   % how far the line-numbers are from the code
    numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
    rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
    showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
    showstringspaces=false,          % underline spaces within strings only
    showtabs=false,                  % show tabs within strings adding particular underscores
    stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
    stringstyle=\color{mymauve},     % string literal style
    tabsize=4,	                     % sets default tabsize to 2 spaces
    title=\lstname,                  % show the filename of files included with \lstinputlisting; also try caption instead of title
    belowskip=0pt,
    belowcaptionskip=0pt
}

\usepackage{graphicx}           % serve per includere immagini e grafici
\usepackage{subfigure}          % serve a creare sottofigure
\usepackage{wrapfig}            % serve per includere figure "wrapped" nel testo
\usepackage[%
    write,              % alternativa a nowrite, crea il file *-frn.tex
    %nowrite,           % alternativa a write, non crea il file *-frn.tex
    standard,           % alternativa a suftesi, crea un frontespizio standard
    %signatures,        % lascia fra i nomi dei relatori lo spazio per le loro firme
    %noadvisor,         % opzione per non mostrare il relatore
    swapnames,          % scambia la posizione dei nomi di relatori e candidato
    normal              % alternativa a sans, utilizza un font "normale"
    %sans,              % alternativa a normal, utilizza un font senza grazie
    %norules,           % eliminano i filetti fra il nome dell’ateneo e quello della facoltà e sopra l’indicazione dell’anno accademico
    %nouppercase,       % disabilita il maiuscoletto nel nome della facoltà
    %noinputenc,        % disabilita la trascrizione dell'inputenc nel preambolo
    %onlyinclude        % disabilita tutte le altre opzioni
]{frontespizio}                 % serve a costruire un buon frontespizio
\usepackage[%
    strict,             % rende tutti gli warning degli errori
    autostyle,          % imposta lo stile in base al linguaggio specificato in babel o polyglossia
    english=american,   % imposta lo stile per l'inglese
    italian=guillemets  % imposta lo stile per l'italiano
]{csquotes}
\usepackage[%
    maxcitenames=2,     % massimo numero di nomi nelle citazioni
    mincitenames=2,     % minimo numero di nomi nelle citazioni
    maxbibnames=99,     % massimo numero di nomi nella blibliografia
    minbibnames=99,     % minimo numero di nomi nella blibliografia
    style=numeric,      %
    giveninits=true,    %
    backend=biber       % specifica il backend per la bibliografia
]{biblatex}                     % si interfaccia con bibtex e biber per la bibliografia
\addbibresource{biblio.bib}
\usepackage[%
    %notbib,            % rimuove la bibliografia dall'indice
    notindex,           % rimuove l'indice dall'indice
    nottoc,             % rimuove la Table of Contents dall'indice
    notlot,             % rimuove la lista delle tabelle dall'indice
    notlof,             % rimuove la lista delle figure dall'indice
    %chapter,           % "Use chapter-level headings, if possible"
    %section,           % "Use section-level headings, if possible"
    %numbib             % numera il capitolo della bibliografia
    %numindex           % numera il capitolo dell'indice
]{tocbibind}                    % aggiunge cose all'indice
%\usepackage{fncychap}          % serve a personalizzare il formato dei titoli dei capitoli
%\usepackage[]{titlesec}        % una volta definito lo stile nel preambolo con \titleformat formatta i \chapter{}
%\usepackage{enumitem}          % serve a personalizzare liste enumerate, itemize e description
%\usepackage{minitoc}           % serve a creare mini-indici all'inizio di capitoli particolarmente complessi
%\usepackage{epigraph}          % serve a creare epigrafi
%\usepackage{amssymb}           % abilita i font matematici forniti dall’American Mathematical Society, carica anche {amsfonts}
%\usepackage{mathtools}         % carica {amsmath} e fornisce estensioni per il miglioramento della struttura informativa e della stampa fi formule matematiche
%\usepackage{relsize}           % consente di assegnare dimensioni relative con i comandi \smaller e \larger
%\usepackage{latexsym}
%\usepackage{afterpage}

\onehalfspacing                 % Imposta interlinea a 1,5 ed equivale a \linespread{1,5}

%% TODO capire e poi decidere se inserire o no
%% produce un buon layout con fancyhdr %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\pagestyle{fancy}\addtolength{\headwidth}{20pt}
%\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\ #1}{}}
%\renewcommand{\sectionmark}[1]{\markright{\thesection \ #1}{}}
%\cfoot{}
%
%\rhead[\fancyplain{}{\bfseries\leftmark}]{\fancyplain{}{\bfseries\thepage}}
%\lhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries\rightmark}}

%% Definisce l'environment abstract per la classe book
\newenvironment{abstract}%
    {\cleardoublepage%
        % \thispagestyle{empty}%
        \null \vfill\begin{center}%
            \bfseries \abstractname \end{center}}%
    {\vfill\null}

% Definisco un nuovo comando per enfatizzare il testo in inglese
\newcommand{\engEmph}[1] {\emph{\foreignlanguage{english}#1}}

\usepackage[htt]{hyphenat}      % Enable hyphenation of TT text
\hyphenation{                   % Permette di sillabare bene le parole, TODO inserire se necessario
    JavaFX
    Swing
    Micro-systems
    Script
    script
}

\setcounter{secnumdepth}{2}     % Numera fino alla sottosezione nel corpo del testo
\setcounter{tocdepth}{3}        % Numera fino alla sotto-sottosezione nell'indice
%\pdfoptionpdfminorversion=7    % TODO Dovrebbe risolvere il problema di inclusione di pdf 1.5 in 1.4, ma non funziona

%\usepackage[a-1b]{pdfx}        % Permette di generare PDF/A con specifica 1b, TODO verificare
                                % La chiamata deve essere ritardata il più possibile, ma deve essere prima di hyperref

\usepackage[%
    hidelinks,
    linktoc=all
]{hyperref}
%\hypersetup{                   % Parametri hyperref da Beccari_Pdf_archiviabile, TODO verificare
%	pdfpagemode={UseOutlines},
%	bookmarksopen,
%	pdfstartview={FitH},
%	colorlinks,
%	linkcolor={blue},
%	citecolor={green},
%	urlcolor={blue},
%	% bookmarks=true,
%	hidelinks% ,
%	% pdftitle={%
%		% Progettazione object oriented di un’interfaccia grafica JavaFX per il simulatore Alchemist%
%    % },
%    % pdfauthor={Niccolò Maltoni}
%}

\begin{document}
    \frontmatter
    \input{tex/frontmatter/frontespizio.tex}
    \input{tex/frontmatter/keyword.tex}
    % \input{tex/frontmatter/dedica.tex}
    \input{tex/frontmatter/abstract.tex}
    \tableofcontents

    \mainmatter
    \input{tex/mainmatter/capitolo1.tex}
    \input{tex/mainmatter/capitolo2.tex}
    \input{tex/mainmatter/capitolo3.tex}
    \input{tex/frontmatter/appendice.tex}

    \backmatter
    \input{tex/backmatter/bibliografia.tex}
    % \listoffigures
    % \listoftables
    \input{tex/backmatter/ringraziamenti.tex}
\end{document}
